<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Katte-App</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #bde7ff;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

#game {
    position: relative;
    width: 100%;
    height: 100%;
}

/* CAT */
#cat {
    position: absolute;
    width: 200px;
    height: 200px;
    background: #ffb347;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: transform 0.5s, width 0.5s, height 0.5s;
}

#cat.dead {
    transform: translate(-50%, -50%) rotate(90deg);
}

.face {
    position: absolute;
    width: 100%;
    height: 100%;
}

.eye {
    position: absolute;
    width: 20px;
    height: 20px;
    background: black;
    top: 60px;
}

.eye.left { left: 50px; }
.eye.right { right: 50px; }

.dead .eye {
    background: none;
}

.dead .eye::before,
.dead .eye::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 3px;
    background: black;
    top: 8px;
    left: 0;
}

.dead .eye::before { transform: rotate(45deg); }
.dead .eye::after { transform: rotate(-45deg); }

#mouth {
    position: absolute;
    width: 40px;
    height: 20px;
    border-bottom: 5px solid black;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
}

/* MESSAGE */
#message {
    position: absolute;
    top: 15%;
    width: 100%;
    text-align: center;
    font-size: 36px;
    font-weight: bold;
    color: red;
    display: none;
}

/* BUTTONS */
.button {
    position: absolute;
    width: 80px;
    height: 80px;
    background: yellow;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}

.button svg {
    width: 40px;
    height: 40px;
    fill: black;
}

.left { left: 40px; }
.right { right: 40px; }

.top { top: 35%; }
.bottom { top: 55%; }

/* TACO */
.taco {
    position: absolute;
    width: 40px;
    height: 40px;
    background: brown;
    top: 50%;
    left: 60%;
    border-radius: 5px;
    animation: eat 1s forwards;
}

@keyframes eat {
    to {
        left: 50%;
        top: 50%;
        opacity: 0;
    }
}

/* WATER */
#water {
    position: absolute;
    width: 100%;
    height: 0%;
    bottom: 0;
    background: rgba(0, 0, 255, 0.5);
    transition: height 2s;
    pointer-events: none;
}
</style>
</head>

<body>
<div id="game">

    <div id="message">DU DREPTE DEN!</div>

    <div id="cat">
        <div class="face">
            <div class="eye left"></div>
            <div class="eye right"></div>
            <div id="mouth"></div>
        </div>
    </div>

    <div id="water"></div>

    <!-- LEFT BUTTONS -->
    <div class="button left top" onclick="shower()">
        <!-- shower -->
        <svg viewBox="0 0 64 64">
            <path d="M32 2a20 20 0 0 0-20 20h6a14 14 0 1 1 28 0h6A20 20 0 0 0 32 2z"/>
            <circle cx="20" cy="50" r="3"/>
            <circle cx="32" cy="54" r="3"/>
            <circle cx="44" cy="50" r="3"/>
        </svg>
    </div>

    <div class="button left bottom" onclick="pet()">
        <!-- hand -->
        <svg viewBox="0 0 64 64">
            <path d="M20 30V10a4 4 0 0 1 8 0v20"/>
            <path d="M28 30V8a4 4 0 0 1 8 0v22"/>
            <path d="M36 30V10a4 4 0 0 1 8 0v20"/>
            <path d="M44 30v8c0 8-6 14-14 14h-6c-8 0-14-6-14-14v-6"/>
        </svg>
    </div>

    <!-- RIGHT BUTTONS -->
    <div class="button right top" onclick="feed()">
        <!-- taco -->
        <svg viewBox="0 0 64 64">
            <path d="M2 32a30 30 0 0 1 60 0H2z"/>
        </svg>
    </div>

    <div class="button right bottom" onclick="poop()">
        <!-- toilet -->
        <svg viewBox="0 0 64 64">
            <rect x="10" y="10" width="30" height="20"/>
            <rect x="20" y="30" width="30" height="20"/>
        </svg>
    </div>

</div>

<script>
let size = 200;
let alive = true;
let hungerTimer;

startHunger();

function startHunger() {
    hungerTimer = setTimeout(() => {
        die();
    }, 300000); // 5 minutes
}

function resetHunger() {
    clearTimeout(hungerTimer);
    startHunger();
}

function feed() {
    if (!alive) return;

    resetHunger();

    const taco = document.createElement("div");
    taco.className = "taco";
    document.getElementById("game").appendChild(taco);

    setTimeout(() => taco.remove(), 1000);

    size += 30;
    document.getElementById("cat").style.width = size + "px";
    document.getElementById("cat").style.height = size + "px";

    if (size >= 350) {
        die();
    }
}

function poop() {
    if (!alive) return;
    size = 200;
    document.getElementById("cat").style.width = size + "px";
    document.getElementById("cat").style.height = size + "px";
}

function shower() {
    if (!alive) return;
    document.getElementById("water").style.height = "100%";
    setTimeout(die, 2000);
}

function pet() {
    if (!alive) return;
    const cat = document.getElementById("cat");
    cat.style.transform += " scale(1.05)";
    setTimeout(() => {
        cat.style.transform = "translate(-50%, -50%)";
    }, 300);
}

function die() {
    if (!alive) return;
    alive = false;
    document.getElementById("cat").classList.add("dead");
    document.getElementById("message").style.display = "block";
}
</script>
</body>
</html>
