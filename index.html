<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Kattespill</title>
<style>
    body {
        margin: 0;
        background: #87ceeb;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }

    .game {
        position: relative;
        width: 100vw;
        height: 100vh;
    }

    /* CAT */
    .cat {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 160px;
        height: 160px;
        background: #f4a261;
        transition: all 0.5s ease;
    }

    .cat.dead {
        transform: translate(-50%, -50%) rotate(90deg);
    }

    /* ears */
    .ear {
        position: absolute;
        top: -30px;
        width: 40px;
        height: 40px;
        background: #f4a261;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    }

    .ear.left { left: 10px; }
    .ear.right { right: 10px; }

    /* eyes */
    .eye {
        position: absolute;
        top: 50px;
        width: 30px;
        height: 30px;
        background: white;
        border-radius: 50%;
    }

    .eye.left { left: 30px; }
    .eye.right { right: 30px; }

    .pupil {
        position: absolute;
        top: 10px;
        width: 10px;
        height: 10px;
        background: black;
        border-radius: 50%;
    }

    .eye.left .pupil { left: 0; }
    .eye.right .pupil { right: 0; }

    .dead .eye {
        background: none;
    }

    .dead .eye::before {
        content: "âœ–";
        font-size: 28px;
        color: black;
    }

    /* slap mark */
    .slap {
        position: absolute;
        width: 60px;
        height: 30px;
        background: rgba(255,0,0,0.4);
        top: 80px;
        left: 50px;
        display: none;
    }

    /* TEXT */
    .message {
        position: absolute;
        top: 15%;
        width: 100%;
        text-align: center;
        font-size: 32px;
        font-weight: bold;
        display: none;
    }

    /* BUTTONS */
    .btn {
        position: absolute;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: yellow;
        color: black;
        font-size: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        user-select: none;
    }

    .btn.left1 { left: 30px; top: 40%; }
    .btn.left2 { left: 30px; top: 55%; }
    .btn.right1 { right: 30px; top: 40%; }
    .btn.right2 { right: 30px; top: 55%; }

    /* retry */
    .retry {
        position: absolute;
        top: 70%;
        left: 50%;
        transform: translateX(-50%);
        padding: 15px 30px;
        background: green;
        color: white;
        font-size: 20px;
        display: none;
        cursor: pointer;
    }

    /* water */
    .water {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 0;
        background: rgba(0,0,255,0.4);
        transition: height 2s linear;
        pointer-events: none;
    }
</style>
</head>
<body>

<div class="game">
    <div class="message" id="msg">DU DREPTE DEN!</div>

    <div class="cat" id="cat">
        <div class="ear left"></div>
        <div class="ear right"></div>

        <div class="eye left"><div class="pupil"></div></div>
        <div class="eye right"><div class="pupil"></div></div>

        <div class="slap" id="slap"></div>
    </div>

    <!-- buttons -->
    <div class="btn left1" onclick="shower()">ðŸš¿</div>
    <div class="btn left2" onclick="slap()">âœ‹</div>
    <div class="btn right1" onclick="feed()">ðŸŒ®</div>
    <div class="btn right2" onclick="toilet()">ðŸš½</div>

    <div class="retry" id="retry" onclick="restart()">PRÃ˜V IGJEN</div>
    <div class="water" id="water"></div>
</div>

<script>
let size = 160;
let alive = true;
let hungerTimer;

startHunger();

function startHunger() {
    clearTimeout(hungerTimer);
    hungerTimer = setTimeout(() => {
        if (alive) kill();
    }, 300000); // 5 minutter
}

function feed() {
    if (!alive) return;
    size += 20;
    cat.style.width = size + "px";
    cat.style.height = size + "px";
    startHunger();
    if (size >= 300) {
        kill();
    }
}

function toilet() {
    if (!alive) return;
    size = 160;
    cat.style.width = size + "px";
    cat.style.height = size + "px";
}

function shower() {
    if (!alive) return;
    water.style.height = "100%";
    setTimeout(kill, 2000);
}

function slap() {
    if (!alive) return;
    slapMark.style.display = "block";
    setTimeout(() => slapMark.style.display = "none", 500);
    kill();
}

function kill() {
    alive = false;
    cat.classList.add("dead");
    msg.style.display = "block";
    retry.style.display = "block";
}

function restart() {
    alive = true;
    size = 160;
    cat.style.width = size + "px";
    cat.style.height = size + "px";
    cat.classList.remove("dead");
    msg.style.display = "none";
    retry.style.display = "none";
    water.style.height = "0";
    startHunger();
}

const cat = document.getElementById("cat");
const msg = document.getElementById("msg");
const retry = document.getElementById("retry");
const water = document.getElementById("water");
const slapMark = document.getElementById("slap");
</script>

</body>
</html>
